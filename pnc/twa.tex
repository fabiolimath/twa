
\section{Modelagem TWA}
\label{Basic}

Nesta seção será apresentada a forma básica do modelo TWA, começando pela notação designada aos nós e as constantes que definem uma instância de
problema para o modelo. Em seguida serão definidas as variáveis utilizadas para compor as restrições e a função objetivo do modelo, passando-se
então à sua descrição. A função objetivo adotada na formulação básica é a minimização dos custos de instalação e operação da rede, valendo-se da capacidade do
modelo escolher também a topologia física da rede. Além disso, o número de comprimentos de onda foi controlado de maneira implícita \cite{Zang00}; e foi
considerada a restrição de conservação dos comprimentos de onda ao longo do caminho óptico \cite{Zang00}, ou seja, não se admite a conversão de comprimentos de
onda na camada óptica da rede.

\begin{notation}
Os índices $m,n,s,d,i,j\in \{1,..,N\}$ representam os nós da rede, onde os pares ordenados $(m,n)$, $(s,d)$ e $(i,j)$ indicam 
respectivamente ligações físicas, demandas de tráfego e ligações lógicas, com $m\neq n$, $s\neq d$ e $i\neq j$. O índice $w 
\in \{1,..,W\}$ representa os comprimentos de onda disponíveis.
\end{notation}

% Para simplificar a notação das restrições do modelo, adota-se a constante $A_s = \sum_d P_{s,d}$, que é a soma de todas 
% as demandas de tráfego com origem em $s$, pois o tráfego será agregado em relação à origem \cite{ram02}.
\begin{figure}[hb]
\centering
\includegraphics[bb=131 654 523 824,scale=.6]{figs/indices.eps}
\caption{Representação gráfica da notação associada aos nós da rede.}
\label{fig:Indices}
\end{figure}

A Figura \ref{fig:Indices} ilustra os diferentes escopos dos índices associados aos nós da rede, com relação aos enlaces físicos $(m,n)$, lógicos
$(i,j)$ e demandas de tráfego $(s,d)$. Esta notação segue a convenção comumente utilizada em trabalhos anteriores \cite{mukherjee,ram02}. É
importante dizer que, como esta modelagem suporta múltiplas fibras e caminhos ópticos entre cada par de nós, os pares $(m,n)$ e $(s,d)$ representam
conjuntos de possíveis ligações físicas e lógicas, respectivamente. Esses conjuntos não serão explicitamente controlados, sendo esse um dos motivos
da eficiência do modelo.

\begin{data}
\label{Cons}
Uma instância para o modelo TWA é definida por:

\begin{enumerate}
\item $N$ $=$ Número de nós da rede.
\item $W$ $=$ Máximo de comprimentos de onda por fibra.
\item $H$ $=$ Grau físico máximo de entrada e saída de cada nó.
\item $K$ $=$ Multiplicidade física máxima entre os pares de nós.
\item $Cap$ $=$ Capacidade de tráfego de cada canal lógico.
\item $C_{mn}$ $=$ Custo de uma ligação física orientada $(m,n)$.
\item $T$ $=$ Custo por unidade de fluxo.
\item $P_{sd}$ $=$ Demanda de tráfego, com origem $s$ e destino $d$.
\item $A_s = \sum_d P_{sd}$ e $Q_{sd}=P_{sd}/A_s$.
\end{enumerate}
\end{data}

% \clearpage

% \subsection{Topologia Generalizada}
% \label{Top}

A variável central do modelo, a partir da qual todas as demais serão definidas, chamada de \textit{componente da Topologia 
Generalizada} (ou simplesmente \textit{componente topológica}), é representada graficamente na Figura \ref{fig:B} e 
formalmente definida na Variável \ref{comp}. Ela sozinha representa as topologias lógica e física, o trajeto físico das 
ligações lógicas e o comprimento de onda utilizado. 

\begin{var}
\label{comp}
 Seja $B_{iw}^{mn} = k$ uma componente topológica iniciada em $m$, incidente em $n$, com origem $i$, 
comprimento de onda $w$ e valor $k$. Onde $k\in \{0,..,K\}$ e $i\neq n$, $\forall\, (i,m,n)$.
\end{var}

\begin{figure}[hb]
 \centering
\includegraphics[bb=36 739 246 805, scale=0.6]{figs/B.eps}
% B.eps: 1179666x1179666 pixel, 300dpi, 9987.84x9987.84 cm, bb=36 739 246 805
 \caption{Representação gráfica de uma componente topológica.}
 \label{fig:B}
\end{figure}

% \begin{equation}
% s\neq j\quad \text{ e }\quad i\neq j\quad \forall (s,i,j).
% \label{Nules}
% \end{equation}

%A princípio, o número de variáveis do tipo descrito aqui seria $N^3\cdot W$, mas devemos excluir algumas que são 
% trivialmente nulas: $s\neq j$ pois $s$ é origem da ligação lógica e $j$ é destino da ligação física; e $i\neq j$ pois não são 
% aceitos \textit{autoloops} \cite{cormen02}.

Numa componente da topologia generalizada $B_{iw}^{mn} = k$, o índice $i$ representa o nó de origem das $k$ ligações lógicas 
que, passando por uma das ligações físicas iniciadas em $m$ e incidentes em $n$, usa o comprimento de onda $w$. Conforme a terminologia utilizada
neste trabalho daqui por diante, \textit{uma componente topológica $B_{iw}^{mn} = k$ é iniciada em $m$, incidente em $n$, com origem $i$,
comprimento de onda $w$ e valor $k$}.

 Na Figura \ref{fig:Tops}, temos um exemplo de interpretação das componentes topológicas, todas com origem no nó $i$ e com o 
mesmo comprimento de onda $w_1$. No item $d)$ desta figura, o valor $2$ da componente que liga os nós $(i,m)$ é interpretado 
como duas ligações físicas entre esses nós, representadas no item $a)$. No item $b)$, vemos uma ligação lógica dupla entre os 
nós $(i,n)$, onde uma delas passa de forma transparente pelo nó $m$, como indicado no item $c)$. Note ainda que, no item 
$d)$, dois caminhos lógicos incidentes em $m$ mas apenas um iniciado. Isso indica que uma ligação lógica termina em $m$, 
enquanto a outra segue adiante.

% \clearpage
\begin{figure}[hb]
 \centering
\includegraphics[width=0.45\textwidth]{figs/topologias.eps}
% \includegraphics[bb=39 455 511 811, scale=0.4]{figs/topologias.eps}
 % topologias.eps: 1179666x1179666 pixel, 300dpi, 9987.84x9987.84 cm, bb=30 375 511 801
 \caption{Exemplo da interpretação das componentes topológicas.}
 \label{fig:Tops}
\end{figure}
% \clearpage

% A definição das componentes topológicas não deixa claro aonde terminam as ligações lógicas. Sua finalização será garantida 
% implicitamente pelas restrições do modelo. Isso reflete a agregação do roteamento dos comprimentos de onda, similar a trabalhos encontradas na
% literatura \cite{Jaumard04}.

A indexação atribuída às variáveis $B_{iw}^{mn}$ especificam apenas o nó $i$, que é onde se iniciam os enlaces lógicos representados. Isto
significa que estas variáveis agregam todas as ligações lógicas originadas em $i$ que utilizam o enlace físico $(m,n)$ e o comprimento de onda $w$,
independente do nó $j$ em que terminam estas ligações lógicas. Esta técnica consiste em uma abordagem bastante conhecida para a representação de
variáveis em problemas de distribuição de fluxo em redes. Em \cite{Tornatore07}, este conceito de agregação de tráfego é aplicado como meio de
simplificação do modelo, reduzindo substancialmente o número de variáveis dos problemas resultantes. No TWA, esta agregação cumpre o mesmo papel de
simplificação, cabendo às restrições do modelo garantir implicitamente a terminação correta destas ligações lógicas agregadas nas variáveis
$B_{iw}^{mn}$.

%  Se $B_{i,m,n,w}=0$, na ligação física $(m,n)$ (que pode então não existir), não 
% existem ligações lógicas iniciadas em $i$, passando por $(m,n)$, usando o comprimento de onda $w$. Por outro lado, se 
% $B_{i,m,n,w}=k$, para algum $k \in \{0,..,K\}$, existem $k$ ligações lógicas originadas em $i$ no 
% comprimento de onda $w$, passando por $k$ ligações físicas distintas entre o par de nós $(m,n)$ (que agora obrigatoriamente 
% existem). Note que $K$ limita apenas a multiplicidade dos enlaces físicos. Mesmo que $K=1$ ( $B_{i,m,n,w}$ será uma variável 
% binária), as  ligações lógicas entre um par $(i,j)$ poderão usar múltiplos trajetos físicos, ou inda, mais de um comprimento 
% de onda em uma mesma fibra.

Considerando que $B_{iw}^{mn}=k$ para algum $k \in \{0,..,K\}$, existem $k$ ligações lógicas originadas em $i$ no comprimento de onda $w$, passando
por $k$ enlaces físicos distintos entre o par de nós $(m,n)$. Neste caso, cada um desses $k$ enlaces físicos terá que ser uma fibra óptica distinta
interligando o mesmo par de nós $(m,n)$, pois haveria interferência se houvessem dois sinais ópticos originados por fluxos de tráfego diferentes se
propagando no mesmo sentido, na mesma fibra, com o mesmo comprimento de onda. Note que $K$ limita apenas a multiplicidade dos enlaces físicos, ou
seja, o número de fibras ópticas dispostas em paralelo entre dois nós $(m,n)$. Mesmo que $K=1$, o que torna $B_{iw}^{mn}$ uma variável binária, as
diversas ligações lógicas entre um par $(i,j)$ poderão usar múltiplos trajetos físicos, ou ainda, mais de um comprimento de onda em uma mesma
fibra. Se ,$\forall i$ , $k=0$ para qualquer $w$ então o enlace físico $(m,n)$ não é utilizado, portanto, não é necessário.

% A multiplicidade das ligações lógicas pode ser controlada por uma restrição própria, que será mostrada na Seção 
% \ref{ControlMl}.

%  Na versão mais enxuta, com a topologia física fixada (veja a Seção \ref{Fis}, adiante) do modelo é adicionada apenas a 
% variável de distribuição de fluxo agregado. Dependendo do caso de uso, outras variáveis podem ser necessárias (como será 
% visto na Seção \ref{cases}), mas nenhuma supera o número de componentes da topologia generalizada, que define portanto a 
% ordem de grandeza do número de variáveis desta modelagem.

% \subsection{Conservação do Percurso Lógico}
% \label{ConservLogS}

As Variáveis \ref{FisVar} e \ref{FlowVar} completam as definições necessárias para apresentarmos a forma básica do modelo TWA, expresso nas
Restrições de (\ref{DefCapFlow}) à (\ref{MinC}).

\begin{var}
\label{FisVar}
 Seja $D_{mn} \in \{0,..,K\}$ o número de ligações físicas entre o par de nós $(m,n)$. 
\end{var}

\begin{var}
 \label{FlowVar}
%  Seja $q_{s,i,j} \in [0,1]$ a fração de fluxo originado em $s$, passando pela ligação lógica $(i,j)$, com $s\neq j$. 
 Seja $q_{sw}^{ij} \in [0,1]$ a fração de fluxo originado em $s$, na ligação lógica $(i,j)$, no comprimento de onda $w$, com $s\neq j$. 
\end{var}

% \begin{equation}
%  \sum_n B_{i,n,m,w} \geq \sum_n B_{i,m,n,w} ,\quad \forall (i,m,w) \text{, com } i\neq m.
% \label{ConservLog}
% \end{equation} 

\begin{equation}
\sum_{s} q_{sw}^{ij}\cdot A_s \leqslant Cap\cdot \left(\sum_{mw} B_{iw}^{mj} - \sum_{nw} B_{iw}^{jn}\right) \Forall{(i,j,w)}
\label{DefCapFlow}
\end{equation} 

\begin{equation}
\sum_i B_{iw}^{mn} \leqslant D_{mn} \Forall{(m,n,w)}
\label{DefFis}
\end{equation} 

\begin{equation}
\sum_n D_{mn} \leq H \Forall{m} \qquad \text{and} \qquad \sum_m D_{mn} \leqslant H \Forall{n}
\label{ConservGFis}
\end{equation} 
% \mathop{\mbox{$\sum$}}

\begin{equation}
\sum_{jw} q_{sw}^{sj} = 1 \Forall{s} \qquad \text{and} \qquad 
\sum_{iw} q_{sw}^{id} - \sum_{jw} q_{sw}^{dj} = Q_{sd} \Forall{(s,d)}
\label{ConservFlow}
\end{equation} 

\begin{equation}
 \text{\small Minimize:} \sum_{mn} C_{mn}\cdot D_{mn} + \sum_{sd} T\cdot P_{sd} + 
\sum_{sijw} T\cdot q_{sw}^{ij}\cdot A_s
\label{MinC}
\end{equation} 

A Restrição (\ref{DefCapFlow}) acumula múltiplas funções: garante a continuidade dos percursos lógicos e a conservação dos comprimentos de onda; controla a
capacidade de tráfego dos canais lógicos, que também pode ser um \textit{uper bound} para o congestionamento; e anula as frações de fluxo agregado nas ligações
lógicas não utilizadas.

Se o número de componentes topológicas incidentes em $m$ for maior que o número de iniciadas, não originadas nele, essa diferença é 
o número de ligações lógicas que terminam em $m$. É deste modo que a finalização das ligações lógicas pode ser mapeada. Isso 
assegura a rastreabilidade das ligações lógicas desde sua origem, a partir das componentes topológicas agregadas.

Para resolver o sub-problema de roteamento de tráfego, são definidas as variáveis de fração de fluxo agregado (Variável \ref{FlowVar}), utilizadas
na Restrição (\ref{DefCapFlow}). Como podem haver múltiplas ligações lógicas entre um par $(i,j)$, o tráfego 
entre um par de nós deverá ser limitado pela capacidade de uma ligação lógica multiplicada pelo número de ligações lógicas em questão. Na
Restrição \ref{DefCapFlow}, este número é representado, para as ligações lógicas entre o par $(i,j)$, como a
quantidade de componentes topológicas incidentes em $j$ ($B_{iw}^{mj}\Forall{(m,w)}$), diminuído do número de componentes
topológicas iniciadas em $j$ ($B_{iw}^{jn}\Forall{(n,w)}$).

%Esta restrição garante que se há ligações lógicas saindo de um nó $m$, iniciadas em $i$ no comprimento de onda $w$, mas não 
% originadas nele ($i\neq m$), então deverá haver (pelo menos) em igual número ligações lógicas incidentes em $m$, com a 
% mesma origem e no mesmo comprimento de onda.

% \begin{figure}[htb]
%  \centering
%  \includegraphics[bb=70 210 533 771, scale=0.5]{figs/unsolved.eps}
%  % unsolved.eps: 1179666x1179666 pixel, 300dpi, 9987.84x9987.84 cm, bb=70 210 533 771
%  \caption{Duas possibilidades de interpretação das componentes topológicas.}
%  \label{fig:Unsolved}
% \end{figure}
% 
% Isto é suficiente para a modelagem, embora na implementação real de múltiplas rotas físicas entre um mesmo par de nós 
% $(i,j)$, alguns detalhes ainda carecem ser decididos, pois podem haver mais de uma maneira de configura-los. Um exemplo disso 
% é dado na Figura \ref{fig:Unsolved}, onde o conjunto de componentes topológicas dado permite duas possibilidades de 
% configuração dos percursos lógicos. Essas situações podem ser tratadas considerando outros fatores, como a distância entre os 
% nós. Mas são questões de menor complexidade, se a topologia generalizada já estiver decidida, e podem ser resolvidas na fase 
% de configuração da rede. Como isso não influencia na modelagem e portanto não será tratado aqui.
% 
% Não é evitado explicitamente a ocorrência de ciclos no percurso dos caminhos ópticos, mas isso é indiretamente controlado 
% pela função objetivo, seja ela de minimização de custos, de congestionamento (Seção \ref{Cong}) ou número de comprimentos de 
% onda utilizados (Seção \ref{CtrlW}). E mesmo que apareçam ciclos, eles não invalidam o resultado.
% 
% \subsection{Topologia Física}
% \label{Fis}

Apesar da topologia física ser determinada pelas componentes da topologia generalizada, para fins de controle do grau físico, 
é necessário uma variável adicional, que é definida na Variável \ref{FisVar}. Se $D_{mn}=0$, não há ligações físicas entre o 
par $(m,n)$, mas se $D_{mn}=k$, para algum $k \in \{0,..,K\}$, existem $k$ ligações físicas entre o par $(m,n)$. Se a 
topologia física for fixada, isto é, informada como um dado de entrada, as componentes da topologia generalizada 
$B_{iw}^{mn}$, com $D_{mn}=0$, devem ser retiradas da modelagem. Isto deve ser considerado em todo o modelo e daqui por 
diante toma-se como subentendido. 

Quando $D_{mn}$ for dado de entrada do problema, a Restrição (\ref{DefFis}) limita a multiplicidade física das componentes, por outro lado, quando
a $D_{mn}$  é variável, ela apenas registra em $D_{mn}$ a multiplicidade física alcançada pelas componentes da topologia 
generalizada. Se a topologia física é livre, a Restrição (\ref{ConservGFis}) é necessária para o controle do grau físico de 
saída e entrada em cada nó, caso contrário esta restrição pode ser desconsiderada.

%Quando a topologia física é livre, não é controlada a existência de $D_{i,j}\neq 0$, com $B_{s,i,j,w}=0$, $\forall (s,w)$. 
% Dependendo do caso de uso, isso ou não influencia no resultado, ou pode ser controlado indiretamente pela função objetivo, 
% por exemplo, por meio do custo de instalação. Opcionalmente poderia-se usar para este fim uma restrição da forma $\sum_{s,w} 
% B_{s,i,j,w} \geq D_{i,j}$, para todo $(i,j)$, mas essa hipótese é por hora desconsiderada.

A conservação de fluxo é assegurada pela Restrição (\ref{ConservFlow}), que também garante o envio e a entrega das demandas 
de tráfego. As equações da Restrição (\ref{ConservFlow}) são semelhantes, em sua forma, às encontradas na modelagem agregada 
para o VTD \cite{ram02}. Todavia, sua interpretação é sutilmente diferente, pois aqui uma determinada fração de fluxo de tráfego pode ser
transportada simultaneamente por mais de uma ligação lógica entre o par $(i,j)$. Por exemplo, em comprimentos de onda diferentes em um mesmo enlace
físico $(m,n)$ que interliga diretamente $(i,j)$, ou por rotas físicas disjuntas entre os nós $(i,j)$, neste último caso, independente do
comprimento de onda.

% \subsection{Saltos Físicos}

% Uma métrica importante para o projeto de redes ópticas é o número de saltos físicos da topologia\cite{Karcius04}. Este valor 
% é minimizado na Função Objetivo (\ref{ObjB}), através da soma de todas as componentes topológicas, pois cada componente 
% topológica representa um salto físico. Uma propriedade importante desta abordagem é que ela controla o aparecimento de 
% ciclos na topologia generalizada. Opcionalmente essa soma poderia ser apenas limitada por um valor, através de uma restrição, 
% se outra função objetivo for mais apropriada.
% 
% \begin{equation}
%  \label{ObjB}
%  \text{Minimize: } \sum_{i,m,n,w} B_{i,m,n,w}.
% \end{equation}

Uma métrica importante no projeto da redes ópticas é a minimização dos custos de instalação e operação \cite{mukherjee}. O 
custo de instalação $C_{mn}$ é o custo associado a uma ligação física orientada entre o par de nós $(m,n)$. O custo de 
operação $T$ é definido como o custo por unidade de fluxo. Este último pode ser dividido em duas partes, uma constante ($Tc = 
\sum_{sd} T\cdot P_{sd}$), formada pelas demandas de tráfego (que necessariamente deverão ser roteadas), e outra variável 
($Tv = \sum_{sij} T\cdot q_{sij}\cdot A_s $), composta pelo tráfego adicional que é gerado, ou seja, o tráfego 
retransmitido.

Por essa razão, minimizar o custo por unidade de fluxo é equivalente a minimizar o tráfego retransmitido na rede, o que por 
sua vez, equivale a minimizar o processamento eletrônico de tráfego dos nós da rede \cite{Renato06}. Soma-se a isso o fato de 
que é necessária nesta modelagem a Restrição (\ref{DefCapFlow}), de limitação da capacidade $Cap$ dos canais lógicos. Deste 
modo, limitando o congestionamento na rede e minimizando o processamento, temos uma abordagem mais eficiente, quanto ao custo 
computacional, para o projeto da topologia virtual em comparação com a minimização do congestionamento da rede 
\cite{Renato06,ram02}. 

Se não for necessário ponderar o custo por unidade de fluxo, basta fazer $T=1$, e se não for necessário considerar o custo 
total de instalação ($CI = \sum_{mn} C_{mn}\cdot D_{mn}$), basta fazer $C_{mn}=0$ para todo $(m,n)$. Deste modo seria 
simplesmente um modelo de minimização do processamento, com limitação do congestionamento \cite{Renato06}. A função objetivo, 
que é a minimização do custo total $R = CI + Tc + Tv$, é dada explicitamente pela Restrição \ref{MinC}.

Quando a topologia física é um dado de entrada, o número de pares $(m,n)$ válidos é da ordem de $N\cdot H$. Assim o número de 
componentes da topologia generalizada será da ordem de $N²\cdot H\cdot W$, semelhante aos modelos mais enxutos para RWA 
\cite{Jaumard04}. Considerando $H$ e $W$ constantes, a ordem de grandeza do número de variáveis deste modelo será $N²$, 
similar a de modelos que resolvem apenas o VTD \cite{ram02}.


\subsection{Grau Lógico e Congestionamento}
\label{Ext}

Dada a abrangência do modelo básico, diversas métricas poderiam ser controladas ou diretamente minimizadas, conforme a aplicação.
Apresentamos agora como podem ser incluídos outros parâmetros de 
controle bem conhecidos e que serão utilizados nos experimentos computacionais da Seção \ref{testes}.

No modelo TWA o número de ligações lógicas é implicitamente limitado pela capacidade física do nó $m$ de realizar ligações lógicas, que é a
capacidade do \textit{Optical switch} de receber ou originar conexões \cite{Zang00}. Todavia, o número de transceptores em um nó, pode ser menor
que essa capacidade \cite{Zang00,ram02}. Assumimos que todos os nós tem o mesmo número 
de transceptores, que é chamado de grau lógico ($Gl$), que também passa a ser um dado de entrada. Para controlar 
o grau lógico de saída e entrada em cada nó, é necessária a Restrição \ref{ConservGl}, que deve ser adicionada ao modelo básico. 

A Restrição (\ref{ConservMl}) acrescenta a limitação da multiplicidade das ligações lógicas ($Ml$) ao modelo TWA, que é 
indiretamente limitada pelo grau lógico. Para não usar multiplicidade nas ligações lógicas, basta fazer 
$Ml=1$.
Como a multiplicidade das ligações lógicas fica implícita para as variáveis de 
distribuição de tráfego, não é possível minimizar diretamente o tráfego em cada canal. Portanto, para minimizar o 
congestionamento, seriam necessárias novas variáveis para contabilizar o tráfego em cada ligação lógica. Isso pode ser contornado adotando a Restrição
(\ref{ConservMl}), com $Ml=1$. Deste modo, pode-se minimizar o congestionamento através da Restrição (\ref{ObjHmax}), adicionando também ao modelo básico a
Variável (\ref{HmaxVar}) e a Restrição (\ref{Hmax}).

\begin{data}
Sejam $Gl$ o Grau Lógico e $Ml$ a Multiplicidade das Ligações Lógicas.
\label{adicionais}
\end{data}

\begin{var}
Seja $\lambda_{max}$ o congestionamento da rede.
\label{HmaxVar} 
\end{var}

\begin{equation}
\sum_{wn} B_{mw}^{mn} \leq Gl\quad\mbox{and}\quad 
\sum_{inw} B_{iw}^{nm} - \sum_{inw} B_{iw}^{mn} \leqslant Gl\Forall{m},\, \mbox{\small$i\neq m$} 
\label{ConservGl}
\end{equation} 

\begin{equation}
\sum_{nw} B_{iw}^{nm} - \sum_{nw} B_{iw}^{mn} \leqslant Ml\Forall{(i,m)},\, \mbox{\small$i\neq m$}
\label{ConservMl}
\end{equation}

\begin{equation}
\lambda_{max} \geqslant \sum_{sw} q_{sw}^{ij}\cdot A_s\Forall{(i,j)} \text{, } Ml=1
\label{Hmax} 
\end{equation}

\begin{equation}
\text{\small Minimize: } \lambda_{max}.
\label{ObjHmax} 
\end{equation}

% Outro controle muito usado nas modelagens de RWA , é o número máximo de 
% ligações lógicas por fibra  $L$ (Dados \ref{adicionais}) \cite{Zang00,Jaumard04}. Este parâmetro limita a densidade da multiplexação de
% comprimentos de onda por enlace físico, um importante aspecto de Redes Ópticas WDM. Este limite é implementado pela Restrição (\ref{L}).

% \begin{equation}
%  \label{L}
% \sum_{i,w} B_{i,m,n,w}\leq L,\quad \forall (m,n).
% \end{equation}

